<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>array-foreach</title>
</head>
<body>
    
    <article class="at">
        <h2> 출석부 (<code></code>) </h2>
        <p> 
            <input type="text" >
            <button> 저장 </button>
        </p>
        <ul></ul>
    </article>

    <script>
        const elText = document.querySelector('.at input'),
                elButton = document.querySelector('.at button'),
                elUl = document.querySelector('.at ul'),
                elLen = document.querySelector('.at code');  
        let data =[], ulTag;
        
                elButton.onclick=function(){

                    if(elText.value !=''){  /* 조건문으로 감싸고 조건을 부여함 | 상황에 따라 위치를 수정해야 함 */
                        data.push(elText.value); /* push(추가)명령어를 통해 만들어놓은 data안에 값이 들어오도록 설정 */
                        ulTag=''; /* 변수선언을 위에서 같이해주고 아래에서는 값을 비우는 명령만 해줌 */
                        data.forEach(function(name){ /* 값이 계속 반복 되기 때문에 태그를 지정 */
                            ulTag +=`<li> ${name}</li>`;
                        })
                            elUl.innerHTML= ulTag;
                            elLen.innerText= data.length; 
                            /* ㄴ 입력한 데이터를 집계 | 클릭 할때 마다라는 조건이 있기 때문에 클릭조건문안에 입력 되어 있어야함. | push가 실행 될때 마다 실행되기 때문에  */
                        }
                }
                /* elUl.innerHTML+=`<li> ${elText.value}</li>`; */ /* 바로출력 | innerHTML은 제어가 어려움*/
                /* console.log(elText.value); */
                /* 실행명령들은 중괄호 안에서 실행 */
    </script>

    <article class="photo">
        <h2> 이미지 등록 <button>추가</button></h2>
        <ul>
            <!-- <li><img src="../img/11.jpg"></li> -->
        </ul>
    </article>

    <script>
        const elPhotoBtn = document.querySelector('.photo button'),
                elPhotoUl = document.querySelector('.photo ul');
        let imgs=['../img/11.jpg', '../img/12.jpg', '../img/13.jpg'];
        let photoTag, photoNum=0;
        elPhotoBtn.onclick=function(){
            photoEvent();
        } 

        function photoEvent(){
            if(photoNum !=3){ /* img.length=값이 변할 수 있기 떄문에 사용하면 좋음 */
            photoTag = `<li><img src="${imgs[photoNum]}"></li>`;
            elPhotoUl.innerHTML += photoTag;
            photoNum++;
            /* 상황에 따라 증가 되거나 감소 될 수 있기 때문에 별도로 써도 됨 */
            }else{
                console.log("등록할 이미지가 없습니다.")
            }
            /* if(photoNum ==3){ console.log("등록할 이미지가 없습니다.");
            }else{
            photoTag = `<li><img src="${imgs[photoNum]}"></li>`;
            elPhotoUl.innerHTML += photoTag;
            photoNum++;
            /* 상황에 따라 증가 되거나 감소 될 수 있기 때문에 별도로 써도 됨 */
            const elPhotoLi = document.querySelectorAll('.photo li');
            elPhotoLi.forEach(function(v,k){
                elPhotoLi[k].onclick=function(){
                    alert(k);
                    console.log(event.target);
                }
            })
        }
    </script>


</body>
</html>