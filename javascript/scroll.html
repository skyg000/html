<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scroll</title>
</head>
<body>
    <article>
        <h2>콘텐츠 위치 확인 후 활성화</h2>
        <figure>
            <p><img src="../img/11.jpg"></p>
            <p><img src="../img/12.jpg"></p>
            <p><img src="../img/13.jpg"></p>
            <p><img src="../img/14.jpg"></p>
            <p><img src="../img/15.jpg"></p>
            <p><img src="../img/09.jpg"></p>
            <p><img src="../img/08.jpg"></p>
        </figure>
        <style>
            img{
                opacity: 0;
                transform: translateX(-100%);
                transition: 1s;
            }
            img.active{
                opacity: 1;
                transform: translateX(0%);
            }
        </style>
    </article>

    <script>
        /* document.documentElement.scrollHeight */
        /* .getBoundingClientRect = 모든 정보 출력 */ 
        /* console.log(window.innerHeight); */
        function init(){
            const elImg = document.querySelectorAll('img');
            let imgArr = []

            elImg.forEach(function(ele){
                imgArr.push(ele.getBoundingClientRect())
            })
            
            let winH =window.innerHeight /3
            function scrollFun(){
                imgArr.forEach(function(off,key){
                    if(window.pageYOffset > off.y - winH){
                        elImg[key].classList.add('active')
                    }/* else{
                        elImg[key].classList.remove('active')
                    } */
                })
            }
            window.onscroll = scrollFun 
            scrollFun()
        }
        window.onload = init
    </script>
</body>
</html>